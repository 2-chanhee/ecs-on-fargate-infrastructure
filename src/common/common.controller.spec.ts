import {Test, TestingModule} from '@nestjs/testing';

import {CommonModule} from './common.module';
import {CommonController} from './common.controller';

describe('CommonController', () => {
    let commonController: CommonController;

    beforeAll(async () => {
        const app: TestingModule = await Test.createTestingModule({
            imports: [CommonModule]
        }).compile();

        commonController = app.get(CommonController);
    });

    describe('GET /common/status', () => {
        it('should return "healthy"', () => {
            const result = commonController.getStatus();

            expect(result).toBeDefined();
            expect(result).toEqual('healthy');
        });
    });
});
